!function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=32)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wc.components},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wc.date},function(e,t){function a(t){return e.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,a(t)}e.exports=a,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.apiFetch},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function a(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,a){var r=a(28);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,a){var r=a(29).default,n=a(13);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?n(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,a){"use strict";t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var a={},n=t||{},s=e.split(o),c=n.decode||r,f=0;f<s.length;f++){var d=s[f],l=d.indexOf("=");if(!(l<0)){var p=d.substr(0,l).trim(),u=d.substr(++l,d.length).trim();'"'==u[0]&&(u=u.slice(1,-1)),null==a[p]&&(a[p]=i(u,c))}}return a},t.serialize=function(e,t,a){var r=a||{},o=r.encode||n;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");var i=o(t);if(i&&!s.test(i))throw new TypeError("argument val is invalid");var c=e+"="+i;if(null!=r.maxAge){var f=r.maxAge-0;if(isNaN(f))throw new Error("maxAge should be a Number");c+="; Max-Age="+Math.floor(f)}if(r.domain){if(!s.test(r.domain))throw new TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!s.test(r.path))throw new TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(c+="; HttpOnly"),r.secure&&(c+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return c};var r=decodeURIComponent,n=encodeURIComponent,o=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e,t){try{return t(e)}catch(t){return e}}},function(e,t){e.exports=window.wc.number},function(e,t){e.exports=window.wp.hooks},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,a){var r=a(14);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,a){var r=a(21),n=a(22),o=a(15),s=a(23);e.exports=function(e){return r(e)||n(e)||o(e)||s()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,a){var r=a(25),n=a(26),o=a(15),s=a(27);e.exports=function(e,t){return r(e)||n(e,t)||o(e,t)||s()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wc.currency},function(e,t){e.exports=window.wc.wcSettings},function(e,t){e.exports=window.wc.navigation},function(e,t,a){var r=a(14);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,a){},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,n=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw n}}return o}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function a(t,r){return e.exports=a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,a(t,r)}e.exports=a,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function a(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=a=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=a=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),a(t)}e.exports=a,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.moment},function(e,t){e.exports=window.wp.components},function(e,t,a){"use strict";a.r(t);var r=a(16),n=a.n(r),o=(a(24),a(12)),s=a(2),i=a(17),c=a.n(i),f=a(6),d=a.n(f),l=a(7),p=a.n(l),u=a(13),b=a.n(u),h=a(8),m=a.n(h),y=a(9),_=a.n(y),v=a(4),g=a.n(v),x=a(0),S=a(1),w=a(3),O=a(5),k=a.n(O),j=a(18),D=a.n(j),C=a(19),T=(a(30),function(e){for(var t=e.length/6|0,a=new Array(t),r=0;r<t;)a[r]="#"+e.slice(6*r,6*++r);return a});function E(e){var t=e.length;return function(a){return e[Math.max(0,Math.min(t-1,Math.floor(a*t)))]}}var M=E(T("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));E(T("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),E(T("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),E(T("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var P=function(e){m()(n,e);var t,a,r=(t=n,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=g()(t);if(a){var n=g()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return _()(this,e)});function n(e){return d()(this,n),r.call(this,e)}return p()(n,[{key:"render",value:function(){var e=this.props.shipments_by_date;return Object(x.createElement)("div",{class:"ts_analytics_graph"},Object(x.createElement)(S.Chart,{title:"Shipments  by Date",layout:"item-comparison",chartType:Object(w.getChartTypeForQuery)(this.props.query),legendPosition:"null",tooltipTitle:"SHIPPMENTS",colorScheme:M,data:e,isRequesting:this.props.isLoading}))}}]),n}(x.Component);a(31);var L=function(e){m()(n,e);var t,a,r=(t=n,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=g()(t);if(a){var n=g()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return _()(this,e)});function n(e){var t;return d()(this,n),(t=r.call(this,e)).state={isLoading:t.props.isLoading,statusdata:[],providerdata:[]},t}return p()(n,[{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.status_by_providers(),this.shipment_by_providers())}},{key:"componentDidMount",value:function(){this.status_by_providers(),this.shipment_by_providers()}},{key:"status_by_providers",value:function(){if(this.props.shipments_by_status&&this.props.shipments_by_status.length>0){for(var e=[],t=[],a=0;a<this.props.shipments_by_status.length;a++){for(var r in e=[],this.props.shipments_by_status[a])"shipment_status"==r?e.push({display:Object(x.createElement)(S.Link,{href:this.props.shipments_by_status[a].href,type:"wp-admin"},this.props.shipments_by_status[a][r]),value:r}):"href"==r||e.push({display:this.props.shipments_by_status[a][r],value:r});t.push(e)}this.setState({statusdata:t})}else this.setState({statusdata:[]})}},{key:"shipment_by_providers",value:function(){if(this.props.shipments_by_providers&&this.props.shipments_by_providers.length>0){for(var e=[],t=[],a=0;a<this.props.shipments_by_providers.length;a++){for(var r in e=[],this.props.shipments_by_providers[a])"shipping_provider"==r?e.push({display:Object(x.createElement)(S.Link,{href:this.props.shipments_by_providers[a].href,type:"wp-admin"},this.props.shipments_by_providers[a][r]),value:r}):"href"==r||e.push({display:this.props.shipments_by_providers[a][r],value:r});t.push(e)}this.setState({providerdata:t})}else this.setState({providerdata:[]})}},{key:"render",value:function(){return Object(x.createElement)("div",{className:"woocommerce-dashboard__columns"},Object(x.createElement)(S.TableCard,{title:"Shipments by Status",headers:[{label:"Tracking Status",key:"shipment_status",isLeftAligned:!0,required:!0},{label:"Shipments",key:"total",isLeftAligned:!0},{label:"% of total",key:"percentage",isLeftAligned:!0}],rows:this.state.statusdata,rowsPerPage:this.state.isLoading?5:1e3,isLoading:this.state.isLoading,totalRows:this.state.statusdata.length}),Object(x.createElement)(S.TableCard,{title:"Shipments by Provider",headers:[{label:"Shipping Provider",key:"shipping_provider",isLeftAligned:!0,required:!0},{label:"Shipments",key:"shipments",isLeftAligned:!0},{label:"% of total",key:"total",isLeftAligned:!0},{label:"Avg Length",key:"average",isLeftAligned:!0}],rows:this.state.providerdata,rowsPerPage:this.state.isLoading?5:1e3,isLoading:this.state.isLoading,totalRows:this.state.providerdata.length,className:"ts-card-footer"}))}}]),n}(x.Component),A=a(20),R=a(11),I=a(10);function q(e,t){void 0===t&&(t={});var a=function(e){return e&&"j"===e[0]&&":"===e[1]?e.substr(2):e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(a,t.doNotParse))try{return JSON.parse(a)}catch(e){}return e}var Q=function(){return(Q=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},F=function(){function e(e,t){var a=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?I.parse(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){a.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=I.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,a){return void 0===t&&(t={}),this._updateBrowserValues(a),q(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var a={};for(var r in this.cookies)a[r]=q(this.cookies[r],e);return a},e.prototype.set=function(e,t,a){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=Q(Q({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=I.serialize(e,t,a)),this._emitChange({name:e,value:t,options:a})},e.prototype.remove=function(e,t){var a=t=Q(Q({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Q({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=I.serialize(e,"",a)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();var N=function(e){m()(n,e);var t,a,r=(t=n,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=g()(t);if(a){var n=g()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return _()(this,e)});function n(e){var t;d()(this,n),(t=r.call(this,e)).handleDateChange=t.handleDateChange.bind(b()(t)),t.onFilterSelect=t.onFilterSelect.bind(b()(t));var a=t.createDateQuery(t.props.query),o=new D.a(C.CURRENCY);return t.getQueryParameters(a),t.getQueryParametersbf(a),t.state={dateQuery:a,filterquery:"",filterquery2:"",currency:o,data:{},chartData:[],loading:!1,selectSummer:0,total_point:{},total_point_c:{},shipment_type:"",oneTimeLoad:!1,hidefooter:!1},t}return p()(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("shipment_status"),t=localStorage.getItem("shipment_type"),a=localStorage.getItem("shipment_providers"),r=localStorage.getItem("dateQuery");null!=e&&this.setState({filterQuery:e}),null!=t&&this.setState({shipment_type:t,selectSummer:"active"==t?1:"delivered"==t?2:0}),null!=a&&this.setState({filterQuery2:a}),null!=r&&this.setState({dateQuery:r}),this.fetchData(null!=r?r:this.state.dateQuery,null==e?"":e,null==t?"":t,null==a?"":a)}},{key:"getValues",value:function(e,t){return{value:102}}},{key:"fetchData",value:function(e,t,a,r){var n=this;this.setState({loading:!0});var o=this.getQueryParameters(e),s=this.getQueryParametersbf(e),i="/wc/v3/ts-analytics/shipments_count"+o+"&shipment_status="+t+"&shipment_provider="+r+"&shipment_type=".concat(a||""),f="/wc/v3/ts-analytics/shipments_count"+s+"&shipment_status="+t+"&shipment_provider="+r+"&shipment_type=".concat(a||""),d="/wc/v3/ts-analytics/shipments_by_status"+o+"&shipment_status="+t+"&shipment_provider="+r,l="/wc/v3/ts-analytics/shipments_by_providers"+o+"&shipment_status="+t+"&shipment_provider="+r,p="/wc/v3/ts-analytics/shipments_by_date"+o+"&shipment_status="+t+"&shipment_provider="+r+"&shipment_type=".concat(a||""),u="/wc/v3/ts-analytics/shipments_by_date"+s+"&shipment_status="+t+"&shipment_provider="+r+"&shipment_type=".concat(a||"");Promise.all([k()({path:i}),k()({path:f}),k()({path:d}),k()({path:l}),k()({path:p}),k()({path:u}),k()({path:"/wc/v3/ts-analytics/get_shipments_providers"})]).then((function(e){var t=c()(e,7),a=t[0],r=t[1],o=t[2],s=t[3],i=t[4],f=t[5],d=t[6];console.log("shipments_providers",d);for(var l=n.prepareData(a,o,s,i,d),p=[],u=0;u<i.length;u++)p.push({date:i[u].date,primary:{label:i[u].Shipments.label,labelDate:i[u].date,value:i[u].Shipments.value},secondary:{label:f[u].Shipments.label,value:f[u].Shipments.value,labelDate:f[u].date}});n.setState({data:l,chartData:p}),n.setState({loading:!1,total_point:a,total_point_c:r,oneTimeLoad:!0})})).catch((function(e){console.log(e),n.setState({loading:!1})}))}},{key:"createDateQuery",value:function(e){var t=Object(w.getDateParamsFromQuery)(e),a=t.period,r=t.compare,n=t.before,o=t.after,s=Object(w.getCurrentDates)(e);return{period:a,compare:r,before:n,after:o,primaryDate:s.primary,secondaryDate:s.secondary}}},{key:"getQueryParameters",value:function(e){var t=encodeURIComponent(Object(w.appendTimestamp)(e.primaryDate.after,"start")),a=encodeURIComponent(Object(w.appendTimestamp)(e.primaryDate.before,"end"));return"?after=".concat(t,"&before=").concat(a)}},{key:"getQueryParametersbf",value:function(e){var t=encodeURIComponent(Object(w.appendTimestamp)(e.secondaryDate.after,"start")),a=encodeURIComponent(Object(w.appendTimestamp)(e.secondaryDate.before,"end"));return"?after=".concat(t,"&before=").concat(a)}},{key:"prepareData",value:function(e,t,a,r,n){var o;return o=e.total_count&&e.active_count&&e.delivered_count&&e.avg_shipping_length?{totals:{total_shipments:e.total_count,active_shipments:e.active_count,delivered_shipments:e.delivered_count,avg_shipping_length:e.avg_shipping_length}}:{totals:{total_shipments:0,active_shipments:0,delivered_shipments:0,avg_shipping_length:0}},t.length>0?o.shipments_by_status=t:o.shipments_by_status=[],a.length>0?o.shipments_by_providers=a:o.shipments_by_providers=[],r.length>0?o.shipments_by_date=r:o.shipments_by_date=[],o.shipments_providers=n,o}},{key:"handleDateChange",value:function(e){var t=this.createDateQuery(e);localStorage.setItem("dateQuery",JSON.stringify(t)),this.setState({dateQuery:t}),this.fetchData(t,this.state.filterquery,this.state.shipment_type,this.state.filterquery2)}},{key:"getSelectedChart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=find(t,{key:e});return a||t[0]}},{key:"onFilterSelect",value:function(e){var t,a,r=Object.keys(e);"shipment_status"==r[0]?(t=void 0===e.shipment_status?"":e.shipment_status,localStorage.setItem("shipment_status",void 0===e.shipment_status?"":e.shipment_status),this.setState({filterquery:t})):(t=this.state.filterquery,localStorage.setItem("shipment_status",this.state.filterquery),this.setState({filterquery:this.state.filterquery})),"shipment_providers"==r[0]?(a=void 0===e.shipment_providers?"":e.shipment_providers,localStorage.setItem("shipment_providers",void 0===e.shipment_providers?"":e.shipment_providers),this.setState({filterquery2:a})):(a=this.state.filterquery2,localStorage.setItem("shipment_providers",this.state.filterquery2),this.setState({filterquery2:this.state.filterquery2})),this.fetchData(this.state.dateQuery,t,this.state.shipment_type,a)}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,r=t.currency,n=t.dateQuery,i=(new F,localStorage.getItem("shipment_status")),c=localStorage.getItem("shipment_providers"),f=Object(o.applyFilters)("woocommerce_admin_ts_analytics_report_filters",[{label:Object(s.__)("Shipment Status","woocommerce-admin"),staticParams:[],param:"shipment_status",showFilters:function(){return!0},defaultValue:null!=i?i:"all",filters:[{label:"All",value:"all"},{label:"In Transit",value:"in_transit"},{label:"Available For Pickup",value:"available_for_pickup"},{label:"Out For Delivery",value:"out_for_delivery"},{label:"Failed Attempt",value:"failure"},{label:"On Hold",value:"on_hold"},{label:"Exception",value:"exception"},{label:"Return To Sender",value:"return_to_sender"},{label:"Delivered",value:"delivered"}]},{label:Object(s.__)("Shipment Providers","woocommerce-admin"),staticParams:[],param:"shipment_providers",showFilters:function(){return!0},defaultValue:null!=c?c:"all",filters:a.shipments_providers?a.shipments_providers:[]}]);return Object(x.createElement)(x.Fragment,null,Object(x.createElement)(S.ReportFilters,{dateQuery:this.state.dateQuery,query:this.props.query,path:this.props.path,currency:this.state.currency,onDateSelect:this.handleDateChange,isoDateFormat:w.isoDateFormat,filters:f,onFilterSelect:this.onFilterSelect}),this.state.loading&&!this.state.oneTimeLoad?Object(x.createElement)(S.SummaryListPlaceholder,{numberOfItems:4}):Object(x.createElement)(S.SummaryList,null,(function(t){return t.onToggle,[{key:"total_Shipments",label:Object(s.__)("Total Shipments","trackship-for-woocommerce"),order:"desc",orderby:"total_Shipments",type:"number"},{key:"active_Shipments",label:Object(s.__)("Active Shipments","trackship-for-woocommerce"),order:"desc",orderby:"active_Shipments",type:"number"},{key:"delivered_Shipments",label:Object(s.__)("Delivered Shipments","trackship-for-woocommerce"),order:"desc",orderby:"delivered_Shipments",type:"currency"},{key:"avg_shipment_length",label:Object(s.__)("Avg Shipment Length","trackship-for-woocommerce"),order:"desc",orderby:"avg_shipment_length",type:"number"}].map((function(t,a){var r=t.key,n=t.order,o=t.orderby,s=t.label,i=t.type,c=(t.isReverseTrend,t.labelTooltipText,{chart:r});o&&(c.orderby=o),n&&(c.order=n);var f=Object(A.getNewPath)(c),d=a==e.state.selectSummer,l=e.getValues(r,i);return l.delta,l.prevValue,l.value,Object(x.createElement)(S.SummaryNumber,{key:r,href:3==a?"":f,delta:0==a?Object(R.calculateDelta)(e.state.total_point.total_count,e.state.total_point_c.total_count):1==a?Object(R.calculateDelta)(e.state.total_point.active_count,e.state.total_point_c.active_count):2==a?Object(R.calculateDelta)(e.state.total_point.delivered_count,e.state.total_point_c.delivered_count):3==a?Object(R.calculateDelta)(e.state.total_point.avg_shipping_length,e.state.total_point_c.avg_shipping_length):0,label:s,selected:d,value:0==a?e.state.total_point.total_count:1==a?e.state.total_point.active_count:2==a?e.state.total_point.delivered_count:3==a?e.state.total_point.avg_shipping_length:0,onLinkClickCallback:function(t){3==a||(localStorage.setItem("shipment_type",1==a?"active":2==a?"delivered":""),e.fetchData(e.state.dateQuery,e.state.filterquery,1==a?"active":2==a?"delivered":"",e.state.filterquery2),e.setState({selectSummer:a,shipment_type:1==a?"active":2==a?"delivered":""}))}})}))})),Object(x.createElement)(P,{chartData:0,dateRange:n.primaryDate.range,shipments_by_date:this.state.chartData,currency:r,isLoading:this.state.loading,query:this.props.query}),Object(x.createElement)(L,{shipments_by_status:a.shipments_by_status,shipments_by_providers:a.shipments_by_providers,dateRange:n.primaryDate.range,currency:r}))}}]),n}(x.Component);Object(o.addFilter)("woocommerce_admin_reports_list","trackship-analytics",(function(e){return[].concat(n()(e),[{report:"trackship-analytics",title:Object(s.__)("TrackShip Analytics","trackship-for-woocommerce"),component:N}])}))}]);